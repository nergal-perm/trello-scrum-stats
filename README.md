# trello-scrum-stats

## Требования к оформлению карточек в Trello

1. Карточки спринтов на доске **Бэклог** должны содержать обязательно заполненные пользовательские поля:
	* `Number` - номер спринта, число
	* `Start` - дата начала спринта, дата
	* `End` - дата окончания спринта, дата
	* `Board ID` - идентификатор соответствующей доски, строка
1. Карточки отдельных выполняемых задач на доске конкретного спринта должны удовлетворять следующим требованиям:
	* В заголовке указаны планируемые затраты времени в круглых скобках. Соответственно, при разборе карточки должны содержать regex `/\([\d|\.]*\)/g` в поле _name_
	* Для выполненных задач в заголовке должны быть указаны фактические затраты времени в квадратных скобках, должен быть установлен срок выполнения и установлена отметка о выполнении.  У них при разборе свойство _dueComplete_ = true, в поле _name_ содержится regex `/\[[\d|\.]*\]/g`
1. В пользовательском поле StoryPoints для каждой задачи указывать сложность задачи в очках

## Описание хода работы

1. Пользователь выбирает спринт (либо выпадающий список, если будет UI, либо аргумент команды в командной строке). Идентификация спринтов - по номеру или дате, попадающей в спринт.
2. Приложение запрашивает у trello список карточек из списка Sprints доски Holy Scrum (это все предустановленные в конфигах приложения значения) вместе со значениями пользовательских полей Number / Start / End / Id. Запрос вида `https://api.trello.com/1/lists/{listId}/cards/?fields=name&customFieldItems=true&key={APIKey}&token={APIToken}`.
3. Получив ответ, приложение определяет boardID доски нужного спринта по его номеру иили дате. На выходе - строка с boardID.
4. Приложение запрашивает у trello список списков на доске с указанным boardID.
5. Приложение запрашивает у trello список карточек на доске с указанным boardID.
6. Приложение запрашивает у trello список меток на доске с указанным boardID.
7. Приложение запрашивает у trello список пользовательских полей на доске с указанным boardID.
8. Хитрая магия :)
